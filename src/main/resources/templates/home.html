<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>SIW Books - Home</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
<link rel="stylesheet" th:href="@{/css/navbar.css}"/>
<link rel="stylesheet" th:href="@{/css/home.css}" />


</head>
<body>

<div th:replace="~{fragments/navbar :: navbar}"></div>

<!-- Hero Section -->
<section class="hero-section">
    <div class="container">
        <h1 class="hero-title">
            <i class="fas fa-book-open text-warning me-3"></i>
            Benvenuto nella Libreria
        </h1>
        <p class="hero-subtitle">Scopri tesori letterari in un'atmosfera d'epoca</p>
    </div>
</section>

<main class="container my-5">
    <!-- SEZIONE LIBRI -->
    <section class="preview-section">
        <h2 class="section-title">
            <i class="fas fa-crown text-warning me-3"></i>
            Libri in evidenza
        </h2>
        
        <!-- ADMIN CONTROLS -->
        <div class="admin-controls" sec:authorize="hasRole('ADMIN')">
            <a class="btn-admin" href="/admin/libro/crea">
                <i class="fas fa-plus"></i> Aggiungi nuovo libro
            </a>
        </div>
        
        <div class="row">
            <div class="col-lg-4 col-md-6 mb-4" th:each="libro : ${libri}">
                <div class="vintage-card h-100">
                    <a th:href="@{'/libro/' + ${libro.id}}" class="text-decoration-none">
                        <div class="card-img-container">
							<img th:if="${libro.copertina != null}"
							     th:src="@{'/immagini/' + ${libro.copertina.id}}"
							     alt="Copertina libro"
							     class="img-fluid" />
							<img th:if="${libro.copertina == null}"
							     src="/img/default-book.jpg"
							     alt="Copertina non disponibile"
							     class="img-fluid" />
                        </div>
                        <div class="card-content">
                            <h3 class="card-title" th:text="${libro.titolo}">Titolo</h3>
                            <p class="card-subtitle" th:text="'Anno: ' + ${libro.annoPubblicazione}">Anno</p>
                        </div>
                    </a>
                </div>
            </div>
        </div>
        
        <div class="text-center mt-4">
            <a class="btn-vintage" href="/libri">
                <i class="fas fa-books"></i> Vai al catalogo libri
            </a>
        </div>
    </section>

    <!-- Decorative divider -->
    <div class="decorative-divider">
        <i class="fas fa-leaf"></i> ❦ <i class="fas fa-leaf"></i>
    </div>

    <!-- SEZIONE AUTORI -->
    <section class="preview-section">
        <h2 class="section-title">
            <i class="fas fa-feather-alt text-warning me-3"></i>
            Autori in evidenza
        </h2>
        
        <!-- ADMIN CONTROLS -->
        <div class="admin-controls" sec:authorize="hasRole('ADMIN')">
            <a class="btn-admin" href="/admin/autore/crea">
                <i class="fas fa-plus"></i> Aggiungi nuovo autore
            </a>
        </div>
        
        <div class="row">
            <div class="col-lg-4 col-md-6 mb-4" th:each="autore : ${autori}">
                <div class="vintage-card h-100">
                    <a th:href="@{'/autore/' + ${autore.id}}" class="text-decoration-none">
                        <div class="card-img-container">
                            <img th:src="@{/autore/foto/{id}(id=${autore.id})}" 
                                 alt="Foto Autore"
                                 class="img-fluid" />
                        </div>
                        <div class="card-content">
                            <h3 class="card-title" th:text="${autore.nome + ' ' + autore.cognome}">Nome Cognome</h3>
                            <p class="card-subtitle" th:text="${autore.nazionalita}">Nazionalità</p>
                        </div>
                    </a>
                </div>
            </div>
        </div>
        
        <div class="text-center mt-4">
            <a class="btn-vintage" href="/autori">
                <i class="fas fa-users"></i> Vai al catalogo autori
            </a>
        </div>
    </section>

</main>

<footer>
    <div class="container">
        <p>
            <i class="fas fa-copyright"></i> 2025 Libreria SIW - 
            <em>Dove ogni libro racconta una storia</em>
        </p>
    </div>
</footer>


</body>
</html>